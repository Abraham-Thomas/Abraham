# 关于项目构建

主要在项目实战中进行，构建工具的操作最好是查看官方文档，并结合社区的文章学习使用。

## 项目准备

1. **创建目录**

2. **初始化，npm init，用yarn也可以，会生成package.json等文件**

3. **创建业务目录（以vue为例）**

   app-->js-->main,App.vue,

   app-->css-->reset.scss

   app-->views-->index.html

## 创建配置文件

1. **创建配置文件，基于webpack(执行环境为node），创建webpack.config.js**

2. **文件配置，通过阅读官方文档**

   基础配置：

   entry，入口，webpack将要构建的文件，

   module，配置各种loader，对应文件所需要的解析器。

   plugins，提供插件

​	output，输出。

​	进阶配置：

​	resolve，devtool，devServer

```javascript
const path = require('path');

module.exports={
    entry: {
        app: '.app/js/main.js'
    },
    devServer: {
    	contentBase: path.join(__dirname, 'dist'),
    	compress: true,
    	port: 9000
  	}
    module: {
        loaders: [{
            test: /\.html$/,
            loader: 'html-loader'
        }, {
            test: /\.vue$/,
            loader: 'vue-loader'
        }, {
            test: /\.scss$/,
            //对多个loader串行解析，从右往左。
            loader: 'style-loader!css-loader!sass-loader'	
        }]
    },
    plugins: [],
    output: {
        filename: '[name].min.js',
        path: path.resolve(__dirname, 'dist')
    }
}
```

上面可以设置导出为一个函数：

```
module.exports = env => {
	if(!env){
        env = {}
	}
	
	let plugins = [];
	
    return {
        //省略
    }
}
webpack的命令行可以接收参数，这样写可以通过传递不同的参数区分不同的环境（开发or生产）
```



## 关于ESLint

1. **安装，npm install eslint --save-dev，yarn和cnpm也可以。--save-dev简写为-D**
2. **配置文件：**

```
.eslintrc.js
.eslintrc.yaml
.eslintrc.yml
.eslintrc.json
.eslintrc
package.json
```

以上文件只需要配置一个即可，如存在多个，构建工具也只会读取一个，优先级从上往下依次降低。

eslint-plugin-vue，vue官方提供的eslint配置。