# 小程序（微信）

**template** ，为什么使用它？1、可以更好的封装UI和业务逻辑。2、增加复用性。

**小程序特点：**

小程序不需下载？小程序一般1~2M（如果分包加载可以更大），用户点击时，已开始下载并安装，用户感觉不到而已。

用户“用完即走”，不用关心是否安装太多应用，减少用户的操作心思。

- B2C——人与商品，淘宝、京东
- P2P——人与人，微信、QQ
- C2P——人与服务，小程序

**什么应用适合做小程序？**

1. 业务逻辑简单
2. 使用频率低
3. 性能要求低

比如支付宝里面的滴滴、共享单车、生活缴费、淘票票等都适合做小程序。

**对开发者的影响：**

- 提升了JS的需求量
- 不能使用已存在的JS库，如jQuery，无法进行DOM操作，降低了开发者难度

**勾选不校验合法域名、TLS版本以及HTTP证书，否则会因为域名等原因无法获取后台数据**

小程序的AppID相当于小程序平台的一个身份证。

小程序云开发，弥补前端在后端的不足。

**开发者工具：**

- 鼠标光标放置代码区，按F1。
- 断点调试：在调试器的Source栏，找到对应文件带有后缀[sm]的文件进行标记断点，重新进行一次编译即可。F8、F10、F11。
- Network：用于监听小程序发向外部的HTTP请求。
- Storage：观察小程序的缓存情况。

**项目文件：**

- pages下面属于页面文件。
- app.js、app.json、app.wxss属于应用程序的三个文件，属于全局文件。
- project.config.json，自动生成，记录开发者在使用工具时的配置选项。如果想在另一项目中运用此项目配置，可将其拷贝。
- utils下的utils.js，帮助类的文件，存放一些功能性函数。

**页面层级结构：**

应用程序入口：app.js

一级页面包含二级页面，二级包含三级，依次往下，每一级没有数量限制，但在顶级最好数量不要太多。最好不要超过5级。

每个页面的外层都有被一个page包裹，在代码中不会显示。

**数组的第一项代表小程序的初始页面（首页）。小程序中新增/减少页面，都需要对 pages 数组进行修改。**

页面的json文件要么删除，反正不能为空，至少加一对花括号，js则必须存在，并且补上相应的内容。默认新建page会默认配置好。

\<image>图片标签的默认值是320px*240px。

\<text>，独特之处：除了文本节点以外的其他节点都无法长按选中，\n会被当作换行处理。

rpx，自适应像素。

**flex的灵活运用，弹性盒子模型。**

实现垂直居中，避免使用  vertical-align: middle; 推荐使用align-items: center;

弹性盒子模型可以嵌套。比如说多级目录，外层flex方向可以是水平，而内层的子级可以是垂直。

**小程序数据传输不是通过DOM，而是数据传输** ，摆脱传统DOM优先的思维。小程序里面属于单项数据绑定，数据不能自动改变，但可通过事件触发。

在swiper组件中，设置vertical='false'，并不能把垂直滚动改为水平，因为它的值的字符串。如果要通过值绑定，需要设置vertical='{{false}}'

使用wx：for的好处，接收服务器的多组数据。

**处理用户交互的一般逻辑——产生事件，然后捕捉事件，通过事件的回调函数处理事件。** 

**冒泡与非冒泡：**

bind与catch，bind会冒泡，事件向上传播，catch不会。不过一般不会用catch，特殊情况使用。

**小程序的模板，只需要wxml和wxss，js文件不会执行。**

